#!/usr/bin/perl -w

use lib "/home/pi/media/scripts/perl/";

use AlphaSign;

#my $sign = new AlphaSign("./test.out");
my $sign = new AlphaSign("/dev/ttyUSB1");

$sign->SetColor($sign->{COLOR_RED});

my $input = $ARGV[0] || "";
my $newline = $sign->{CTRL_NEWLINE};

my $line1 = "";
my $line2 = "";

$line1 = $ARGV[0] if (defined($ARGV[0]));
$line2 = $ARGV[1] if (defined($ARGV[1]));

if ($line1 ne "") {
	if (length($line1) <= 16) {
		$line1 = "\x1d\x31\x31" . $line1;
	} else {
		$line1 = "\x1d\x31\x30" . $line1;
	}
}

if ($line2 ne "") {
	if (length($line2) <= 16) {
		$line2 = "\x1d\x31\x31" . $line2;
	} else {
		$line2 = "\x1d\x31\x30" . $line2;
	}
}


my $str = $sign->{COLOR_RED} . $line1;

$str .= $sign->{CTRL_NEWLINE} . $line2 if ($line2 ne "");

$sign->print($str);

